# Install required packages for file processing and vector search
npm install pdf-parse docx fs-extra mammoth

# Update database schema
npm run update-db

# Required environment variables in .env.local:
MONGODB_URI=your_mongodb_uri
OPENAI_API_KEY=your_openai_api_key
NEXTAUTH_SECRET=your_nextauth_secret
NEXTAUTH_URL=http://localhost:3000

# Note: Make sure your MongoDB Atlas cluster has vector search enabled
# You can enable it in the Atlas UI under "Search" tab:
# 1. Click "Create Search Index"
# 2. Select "JSON Editor"
# 3. Choose your database and collection (documents)
# 4. Use this index definition:
{
  "mappings": {
    "dynamic": true,
    "fields": {
      "embeddings": {
        "dimensions": 1536,
        "similarity": "cosine",
        "type": "knnVector"
      }
    }
  }
}

# After installation:
1. Create uploads directory:
mkdir -p uploads

2. Start the development server:
npm run dev